# Docker Compose Environment Variables
# Copy this file to .env and customize as needed

# ============================================
# S3 / LocalStack Configuration
# ============================================
# LocalStack port (default: 4566)
LOCALSTACK_PORT=4566

# Enable debug logging (0=off, 1=on)
LOCALSTACK_DEBUG=1

# AWS credentials for LocalStack (default: test)
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# AWS Region (default: us-east-1)
AWS_REGION=us-east-1

# S3 Bucket name (default: whisper-uploads)
S3_BUCKET_NAME=whisper-uploads

# S3 Endpoint URL (for Quarkus app)
S3_ENDPOINT_URL=http://localhost:4566

# Use DevServices (true) or external S3 (false)
USE_DEVSERVICES=false

# ============================================
# NATS JetStream Configuration
# ============================================
# NATS client port (default: 4222)
NATS_PORT=4222

# NATS HTTP monitoring port (default: 8222)
NATS_HTTP_PORT=8222

# NATS cluster port (default: 6222)
NATS_CLUSTER_PORT=6222

# NATS connection URL (for external tools)
NATS_URL=nats://guest:guest@localhost:4222

# ============================================
# Application Configuration
# ============================================
# Application passphrase for authentication
APP_PASSPHRASE=your-secret-passphrase

# Master encryption key (base64-encoded 256-bit key)
# Generate new key with: echo $(openssl rand -base64 32)
ENCRYPTION_MASTER_KEY=+hMMpH56z4xefxKZI1cp6PbIFeY1fRFbNiECMfkYy/U=

# Enable encryption verification
ENCRYPTION_VERIFY_ENABLED=true

# Download path for decrypted files (dev mode)
DECRYPT_DOWNLOAD_PATH=./downloads

# ============================================
# Usage Instructions
# ============================================
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Customize the values as needed
#
# 3. Start services with docker-compose:
#    docker-compose up -d
#
# 4. Run Quarkus application:
#    ./mvnw quarkus:dev
#    (or use USE_DEVSERVICES=false to connect to docker-compose services)
#
# 5. Access services:
#    - LocalStack S3: http://localhost:4566
#    - NATS HTTP: http://localhost:8222
#    - NATS Client: nats://localhost:4222
#    - Quarkus App: http://localhost:8080/whisper
#    - Swagger UI: http://localhost:8080/whisper/swagger-ui
